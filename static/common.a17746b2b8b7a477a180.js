(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Sy09:function(t,e,o){"use strict";o("AEdO");var n=function(){function t(){}return t.IMAGES=["https://mdbootstrap.com/img/Photos/Slides/img%20(130).jpg","https://mdbootstrap.com/img/Photos/Slides/img%20(129).jpg","https://mdbootstrap.com/img/Photos/Slides/img%20(70).jpg"],t}(),i=(o("5h2x"),o("hesg"),o("mEgG"));o("Sfei"),o.d(e,"a",function(){return c});var c=function(){function t(t,e,o,c,s,r,a){this.activatedRoute=t,this.contractService=e,this.web3Service=o,this.ngZone=c,this.route=s,this.changeDetectorRef=r,this.loadingBar=a,this.canNotBuy=!0,this.defaultImages=n.IMAGES,this.itemForm=new i.g({contactDetail:new i.e("",i.p.required)})}return t.prototype.ngOnInit=function(){var t=this;this.web3Service.getSelectedAccount().subscribe(function(e){console.log("=======account=========",e),t.selectedAccount=e,t.ngZone.run(function(){t.item.ownerMetaMaskAddress===t.selectedAccount&&(t.canNotBuy=!1,t.changeDetectorRef.markForCheck())})}),this.contract=this.contractService.getContract(),this.contract.NewOrderEvent().watch(function(e,o){e&&alert("Cannot create your item."),o&&t.referenceHashId===o.args.hashId&&(t.ngZone.run(function(){t.loadingBar.complete(),t.route.navigate(["orders"])}),console.log("Success"))})},t.prototype.buyIt=function(){if(!this.itemForm.invalid&&this.item.ownerMetaMaskAddress!==this.selectedAccount){var t=this.itemForm.getRawValue();this.referenceHashId=this.item.hashId,this.loadingBar.start(),this.contractService.orderItem(this.selectedAccount,this.item.hashId,t.contactDetail,this.item.price)}},t.prototype.ngOnDestroy=function(){var t=this;this.ngZone.run(function(){t.loadingBar.complete()})},t.ITEM_DETAIL="items",t}()}}]);